<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Calculator</title>
</head>
<body>
    <div id="display">0</div>

    <div class="operators">
        <button id="add">+</button>
        <button id="subtract">-</button>
        <button id="multiply">*</button>
        <button id="divide">/</button>
    </div>

    <button id="equal">=</button>
    <button id="clear">Clear</button></div>

    <div class="numbers">
        <button id="one">1</button>
        <button id="two">2</button>
        <button id="three">3</button>
        <button id="four">4</button>
        <button id="five">5</button>
        <button id="six">6</button>
        <button id="seven">7</button>
        <button id="eight">8</button>
        <button id="nine">9</button>
    </div>

    <script>
        let firstNumber = 0;
        let secondNumber = 0;
        let operator = "";
        let isSwitched = false;
        let isOperatorPressed = false;

        const numbers = document.querySelector(".numbers");
        const operators = document.querySelector(".operators");
        const equal = document.getElementById("equal");

        let display = document.getElementById("display");

        function addNumbers(num1, num2) {
            return num1 + num2;
        }

        function subtractNumbers(num1, num2) {
            return num1 - num2;
        }

        function multiplyNumbers(num1, num2) {
            return num1 * num2; 
        }

        function divideNumbers(num1, num2) {
            return num1 / num2;
        }

        function operate (operator, num1, num2) {
            switch (operator) {
                case "+": 
                    return addNumbers(num1, num2);
                case "-":
                    return subtractNumbers(num1, num2);
                case "*": 
                    return multiplyNumbers(num1, num2);
                case "/":
                    return divideNumbers(num1, num2);
                default:
                    alert("Cannot be identified. Please try again");
            }
        }

        function showOnDisplay (input) {
            if (display.innerText === "0" || isOperatorPressed) {
                display.innerText = input;
                isOperatorPressed = false;
            }
            else {
                display.innerText += input; 
            }
        }

        function assignNumber(number) {
            if (isSwitched === false) {
                firstNumber = (firstNumber === 0) ? number : firstNumber + number;
            }
            else if (isSwitched === true){
                secondNumber = (secondNumber === 0) ? number : secondNumber + number;
            }
        }

        numbers.addEventListener("click", (event) => {
            const content = event.target.innerText;
            showOnDisplay(content);
            assignNumber(content);
            console.log(event.target.innerText);
            console.log(firstNumber);
            console.log(secondNumber);
        });

        operators.addEventListener("click", (event) => {
            isOperatorPressed = true;
            isSwitched = true;
            operator = event.target.innerText;
            display.innerText += ` ${operator}  `;
        });
        
        equal.addEventListener("click", (event) => {
            display.innerHTML = "";
            isSwitched = false;
            isOperatorPressed = false;
            const result = operate(operator, parseInt(firstNumber), parseInt(secondNumber));
            display.innerHTML = result;
        })
    </script>
</body>
</html>